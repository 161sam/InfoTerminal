# 📚 DOCS_DIFF – Phase 1 Baseline (2025-09-23)

Comparison of the new inventory artefacts with existing documentation. Priorities follow the release risk (high → block v1.0).

| Priority | Impact | Doc Section | Source of Truth | Delta Description | Proposed Fix |
| --- | --- | --- | --- | --- | --- |
| High | Security / API contracts | `docs/API_INVENTORY.md` (dated 2025-09-21) 【F:docs/API_INVENTORY.md†L1-L80】 | `inventory/apis.json` (52 services enumerated) 【F:inventory/apis.json†L1-L20】 | Markdown table only lists legacy services (e.g. auth-service, archive) and omits new agents, plugin-runner, ops-controller, media-forensics, Flowise connectors. Response models + status codes diverge from current FastAPI implementations. | 🔄 **Vertagt bis Wave 6 (Package L)** – Umsetzung erfolgt gemeinsam mit Inventar-Automatisierung (`backlog/phase2/PACKAGE_SEQUENCE.yaml`). |
| High | DX / Infra | `docs/PORTS_POLICY.md` 【F:docs/PORTS_POLICY.md†L1-L20】 | `inventory/services.json` (port mappings) 【F:inventory/services.json†L1-L392】 | Policy lists only handful of services; ignores new host bindings (Flowise 3417, egress 8615, NiFi 11443, plugin runner 8621, etc.) and mentions “no standard ports” while compose overlays expose Postgres/OpenSearch hosts. | 🔄 **Vertagt bis Wave 6 (Package L)** – konsolidierte Portliste wird mit Inventory-Aktualisierung generiert (siehe `backlog/phase2/ITERATION-01_PLAN.md`). |
| High | Roadmap alignment | `docs/ROADMAP-INTELLIGENCE.md` (Phase 2 Kick-off) 【F:docs/ROADMAP-INTELLIGENCE.md†L1-L46】 | `ROADMAP_STATUS.md` (new baseline) | Missing narrative on packages A–L, dependencies, and milestones. Stakeholders lack official doc pointer. | ✅ **Erledigt (2025-09-23):** Dokument mit Phase-2-Wellen, Wave-1-Deliverables, Governance-Guardrails und Artefakt-Links gefüllt. Folgepflege über Inventory-Skripte. |
| High | Plugins / Video pipeline | _Neu_: `docs/plugins/quickstart.md`, `docs/media/video_pipeline.md` | Plugin runner & video ingest artefacts (Wave 3) | Docs for sandbox runner + media pipeline missing. | ✅ **Erledigt (2025-09-25):** Quickstarts beschreiben Registry-Schema, Feature-Flags, Offline-Demo & Grafana Panels. |
| High | Release planning | Root `ROADMAP.md` / README references to “v0.2” while inventory shows dozens of v1 endpoints. 【F:README.md†L1-L120】【F:ROADMAP.md†L1-L80】 | `STATUS.md`, `ROADMAP_STATUS.md` | README + roadmap still state v0.2 deliverables and omit new packages (Flowise, video, plugins). | ✅ **Erledigt (2025-09-24):** README-Header auf Phase 2 Wave 1 aktualisiert, 5-Minuten-Demo ergänzt; `ROADMAP.md` verweist auf Wave-Sequenz. |
| Medium | CLI docs | `docs/CLI_INVENTORY.md` 【F:docs/CLI_INVENTORY.md†L1-L40】 | `inventory/apis.json`, `cli/it_cli/root.py` 【F:cli/it_cli/root.py†L1-L120】 | CLI inventory last generated 2025-09-21; misses new commands (inventory sync, plugin ops) and mislabels service mappings. | Regenerate CLI inventory after adding inventory integration; document new commands in README. |
| Medium | Observability runbooks | `observability/README.md` (if present) / `docs/dev/` (missing) | `inventory/findings.md` 【F:inventory/findings.md†L1-L69】 | No documentation on required metrics/health endpoints vs actual gaps; risk for SLO alignment. | Add observability checklist referencing findings; include instructions per service. |
| Medium | n8n/NiFi workflows | `apps/n8n/README` (missing) | `apps/n8n/*.json` 【F:apps/n8n/fact-checking-assistant-v2.json†L1-L80】 | No doc explains how to import or schedule standard playbooks; Phase 2 package D blocked. | Create how-to for importing flows, enabling retries, and mapping env vars. |
| Medium | Agent MVP onboarding | `docs/agents/quickstart.md` (neu) | `services/flowise-connector/app/main.py` 【F:services/flowise-connector/app/main.py†L1-L520】 | Previously missing setup doc for agent governance/rate-limit MVP. | ✅ **Erledigt (2025-09-26, aktualisiert 2025-10-02 & 2025-10-05):** Quickstart deckt Flags, Curl-Demo, Frontend MVP, Grafana-Tiles, OPA-Policy-Integration inkl. Deny-Meldungen sowie den sechsteiligen Tool-Katalog mit Parameter-Schema. |
| Medium | Container Remediation Tracker | _Neu_: `docs/security/container_remediation.md` | `scripts/security/update_frontend_dependencies.sh`, `docs/security/vulnerability_scanning.md` 【F:docs/security/container_remediation.md†L1-L120】【F:scripts/security/update_frontend_dependencies.sh†L1-L92】【F:docs/security/vulnerability_scanning.md†L195-L201】 | Trackertafel mit Owners/Deadlines für Critical CVEs (Frontend Refresh, Plattform-Images, Airflow/Superset/Golang). Ergänzt Runbook-Skript für pnpm-Upgrades. | ✅ **Neu (2025-09-25):** Erstellt, wöchentliche Security-Sync als Review-Instanz. |
| Medium | Secrets Hygiene | _Neu_: `docs/security/secrets.md` | `artifacts/security/secrets/summary.json`, `policy/secrets_allowlist.json`, `scripts/run_secrets_hygiene.py` 【F:docs/security/secrets.md†L1-L200】【F:artifacts/security/secrets/summary.json†L1-L40】【F:policy/secrets_allowlist.json†L1-L60】【F:scripts/run_secrets_hygiene.py†L1-L500】 | Redaktions-Policy, Allowlist-Governance und deterministische Artefakte für Gate `secrets_hygiene`. | ✅ **Neu (2025-10-05):** Gate + Doku live; CI kommentiert Warn-Level bei historischen Platzhaltern. |
| Medium | Runtime Hardening | _Neu_: `docs/security/runtime.md` | `docker-compose*.yml`, `deploy/kubernetes/production.yaml`, `scripts/runtime_hardening_smoke.py`, `inventory/security.json` 【F:docs/security/runtime.md†L1-L200】【F:docker-compose.yml†L1-L360】【F:deploy/kubernetes/production.yaml†L1-L940】【F:scripts/runtime_hardening_smoke.py†L1-L120】【F:inventory/security.json†L1-L200】 | Dokumentiert seccomp/AppArmor/Capabilities, Compose-Egress-Politik und das neue Gate `runtime_hardening_smoke`. | ✅ **Neu (2025-10-05):** Runtime-Härtung aktiv, CI-Gate prüft Compose & K8s Profile. |
| Medium | Supply-Chain Scanning | _Neu_: `docs/security/vulnerability_scanning.md` | `scripts/run_vuln_policy_sca.py`, `scripts/run_vuln_policy_images.py`, `artifacts/security/sca/sca_summary.json`, `artifacts/security/images/scan_summary.json` 【F:scripts/run_vuln_policy_sca.py†L1-L486】【F:scripts/run_vuln_policy_images.py†L1-L400】【F:artifacts/security/sca/sca_summary.json†L1-L60】【F:artifacts/security/images/scan_summary.json†L1-L80】【F:docs/security/vulnerability_scanning.md†L1-L200】 | Docs bündeln SCA (Python/Node) und neues Container-Gate `vuln_policy_images` inkl. Trivy-Berichten, Baseline-Governance und Delta-Kommentar. | ✅ **Erledigt (2025-09-26):** Anleitung für beide Gates, Policy-Overrides, lokale Runs und CI-Verankerung ergänzt. |
| Medium | Supply-Chain / Compliance | `NOTICE`, `THIRD_PARTY_NOTICES.md`, `docs/compliance/licenses.md` | `artifacts/sbom/source/*.json`, `artifacts/sbom/images/*.cdx.json`, `artifacts/compliance/licenses/*.json` 【F:NOTICE†L1-L14】【F:THIRD_PARTY_NOTICES.md†L1-L40】【F:docs/compliance/licenses.md†L6-L62】 | Bisher fehlte ein zentraler Verweis auf SBOM-/Lizenzartefakte; Compliance-Gate `SEC-SBX-3` konnte nicht abgenommen werden. | ✅ **Erledigt (2025-09-25):** Source- und Image-SBOM-Generatoren dokumentiert, CI-Gates verankert, Lizenzmatrizen verlinkt. |
| Medium | External feeds quickstart | `docs/feeds/quickstart.md` (neu) | `services/feed-ingestor/app/main.py` 【F:services/feed-ingestor/app/main.py†L118-L308】 | No documentation existed for feed ingestion pipeline and metrics. | ✅ **Erledigt (2025-09-26):** Quickstart outlines flags, scheduler, metrics, offline smoke demo. |
| Low | Legacy docs | `docs/API_INVENTORY_ENHANCED.md`, `docs/CLI_INVENTORY_ENHANCED.md`, `docs/PARITY_GAP_REPORT*.md` | `inventory/` artefacts | Enhanced variants duplicate outdated inventories; should reference new JSON instead. | Archive or update enhanced docs to avoid conflicting guidance. |

Use this list alongside `STATUS.md` to drive doc remediation tasks in Package L.
